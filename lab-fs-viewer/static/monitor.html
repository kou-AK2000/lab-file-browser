<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Simple Monitor</title>
    </head>
    <body>
        <h1>System Monitor</h1>

        <div id="header"></div>

        <p>CPU: <span id="cpu">--</span>%</p>
        <p>Memory: <span id="memory">--</span>%</p>
        <p>Disk: <span id="disk">--</span>%</p>
        <p>Uptime: <span id="uptime">--</span></p>

        <h2>Disk Usage</h2>
        <table border="1">
            <thead>
                <tr>
                    <th>Filesystem</th>
                    <th>Size</th>
                    <th>Used</th>
                    <th>Avail</th>
                    <th>Use%</th>
                    <th>Mounted on</th>
                </tr>
            </thead>
            <tbody id="dfTable"></tbody>
        </table>

        <!-- JS分離 -->
        <script type="module">
            import { loadHeader } from "/js/header.js";
            import { updateSystem, loadDF } from "/js/monitor.js";

            loadHeader();

            // 初回実行
            updateSystem();
            loadDF();

            // 自動更新
            setInterval(updateSystem, 2000);
            setInterval(loadDF, 5000);
        </script>
    </body>
</html>
